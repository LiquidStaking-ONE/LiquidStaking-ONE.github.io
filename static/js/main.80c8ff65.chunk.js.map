{"version":3,"sources":["Landing.js","Components/Header/Header.styles.js","Components/Header/index.js","Images/one.png","CustomInput.tsx","Utils.js","TabCard.js","ClaimCard.js","ClaimTabCard.js","App.js","index.js"],"names":["Landing","id","className","href","style","color","Wrapper","styled","div","Content","LogoImg","img","ConnectButton","button","DisconnectButton","ModalContent","ModalContentButton","ModalHeader","toBech32","require","Header","props","useState","text","setText","walletOptionsVisible","showWalletOptions","a","connectMetamask","connectMathWallet","useEffect","account","bech32","slice","length","src","alt","onClick","disconnectWallet","isOpen","ariaHideApp","onRequestClose","CustomInput","inputRef","React","autofocus","current","focus","inputProps","placeholder","onChange","event","value","currentTarget","test","split","decimals","setValue","type","ref","bigDecimal","roundString","inputString","numberOfDecimals","isNaN","parseFloat","round","TabCard","receiveValue","setReceiveValue","result","exchangeRate","indexOf","parsedValue","multiply","View","flex","marginBottom","marginTop","imgSrc","availableBalance","autofocusInput","display","justifyContent","alignItems","inSymbol","outSymbol","e","onSubmit","submitAction","disabled","walletConnected","minValue","ethers","utils","parseUnits","gte","lt","gt","ClaimCard","amount","flexDirection","position","top","onClaim","tokenId","enableClaim","onRedelegate","enableRedelegate","ClaimTabCard","claimTickets","width","map","el","idx","epoch","margin","fromBech32","getAddress","BN","stoneAbi","loneAbi","contractAddress","rpcUrl","App","setAccount","provider","setProvider","oneBalance","setOneBalance","stoneBalance","setStoneBalance","stakeAmount","setStakeAmount","stoneContract","setStoneContract","loneContract","setLoneContract","setExchangeRate","inverseRate","setInverseRate","activeTab","loadingScreenVisible","setLoadingScreenVisible","transactionModalVisible","setTransactionModalVisible","transactionHash","setTransactionHash","amountReceived","amountReceivedCurrency","transactionSpinnerVisible","setTransactionSpinnerVisible","walletType","setWalletType","setClaimTickets","messenger","Messenger","HttpProvider","ChainType","Harmony","ChainID","HmyTestnet","getCurrentEpoch","send","chainPrefix","currentShard","raw","getRewards","address","sumRewards","constants","Zero","forEach","item","i","add","reward","updateOneBalance","getBalance","then","balanceResult","formatUnits","blockchain","handleStoneContractChange","nONE","alert","Contract","getSigner","totalStaked","totalSupply","balanceOf","eq","rewards","divide","methods","call","contracts","createContract","wallet","setSigner","checksum","signTransaction","tx","window","harmony","signTx","numberToString","localStoneBalance","handleLoneContractChange","localClaimTickets","currentEpoch","BigNumber","from","tokenOfOwnerByIndex","userTokenId","getAmountOfTokenByIndex","getEpochOfTokenByIndex","push","One","hmyCompatI","toString","parsedEpoch","MetaMaskOnboarding","isMetaMaskInstalled","startOnboarding","ethereum","request","method","chainId","targetChainId","setMetamaskProviderFromWindow","params","toHexString","code","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","name","symbol","message","console","log","_metamask","isUnlocked","localProvider","providers","Web3Provider","isMathWallet","network","chain_id","hmy","chain_url","chainType","open","stake","options","gasPrice","transaction","data","wait","receipt","txHash","toWei","Units","one","numberToHex","Gwei","unstake","submit","action","claimThisTicket","claim","redelegateThisTicket","reDelegate","accounts","getAccount","localAccount","handleProviderChange","interval","setInterval","clearInterval","renderScene","SceneMap","first","second","third","layout","Dimensions","get","index","setIndex","key","title","routes","styles","StyleSheet","create","tabbar","backgroundImage","borderRadius","paddingLeft","paddingRight","border","fontFamily","inactiveColor","indicator","backgroundColor","Container","renderTabBar","indicatorStyle","labelStyle","fontSize","textTransform","navigationState","onIndexChange","initialLayout","content","height","wordWrap","target","rel","visibility","ReactDOM","render","exact","path","element","document","getElementById"],"mappings":"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","file":"static/js/main.80c8ff65.chunk.js","sourcesContent":["import * as React from \"react\";\nfunction Landing() {\n    return (\n        <>\n        <div id=\"wrapper\">\n        <div id=\"main\">\n            <div className=\"inner\">\n                <div id=\"container06\" className=\"container default full screen\">\n                    <div className=\"wrapper\">\n                        <div className=\"inner\">\n                            <h1 id=\"text24\">Liquid Staking</h1>\n                            <p id=\"text18\">Earn higher yields from defi while contributing to the security of the Harmony Blockchain</p>\n                            <ul id=\"buttons01\" className=\"buttons\">\n                                <li><a href=\"/#/app\" className=\"button n01\" >\n                                    <span className=\"label\" style={{color:\"#a2a2b0\"}}>Enter App</span></a></li>\n                            </ul>\n                        </div>\n                        {\n                        // <div className=\"container\" style={{\n                        //     display: \"flex\",\n                        //     justifyContent: \"center\",\n                        //     height: \"1em\",\n                        // }}>\n                        //   <div style={{\n                        //       width: \"100%\",\n                        //       height: \"1em\"\n                        //   }}><a href=\"https://twitter.com/liquid_staking\" className=\"footer-link\"><i className=\"fab fa-twitter footer-icon\"></i></a></div>\n                        //   <span><a href=\"https://discord.gg/s4exf93vN3\"><i className=\"fab fa-discord footer-icon\"></i></a></span>\n                        // </div>\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    </>\n    );\n}\n\nexport default Landing;\n","// @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@200;300;400;600;700&display=swap');\nimport styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  background: #031217;\n  padding: 0 20px;\n`;\n\nexport const Content = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 10px;\n  border-bottom: 1px solid #CCC;\n`;\n\nexport const LogoImg = styled.img`\n  width: 55px;\n  height: 55px;\n  @media screen and (max-width: 500px ) {\n    width: 30px;\n    height: 30px;\n  }\n`;\n\nexport const ConnectButton = styled.button`\n  width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  :hover {\n    opacity: 0.8;\n  }\n\n  @media screen and (max-width: 500px) {\n    width: 80px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n\nexport const DisconnectButton = ConnectButton;\n\nexport const ModalContent = styled.div`\n  padding: 1em;\n  border: none;\n  background: inherit !important;\n`;\n\nexport const ModalContentButton = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  margin-top: 0.5em !important;\n  padding-left: 1.5em;\n  padding-right: 1.5em;\n\n  :last-child {\n    margin-bottom: 0.5em;\n  }\n\n  :hover {\n    opacity: 0.8;\n  }\n\n  img {\n    width: 30px;\n    height: 30px;\n    object-fit: contain;\n  }\n`;\n\nexport const ModalHeader = styled.div`\n  padding: 1em;\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid #dee2e6;\n  border-top-left-radius: calc(.3rem - 1px);\n  border-top-right-radius: calc(.3rem - 1px);\n\n  h3 {\n    font-size: 1.1rem;\n    font-weight: 600;\n    margin-bottom: 0;\n  }\n\n  label:hover {\n    cursor: pointer;\n  }\n`;\n","import React, { useState, useEffect } from 'react'\nimport Modal from 'react-modal';\nimport { Wrapper, Content, LogoImg, ConnectButton, DisconnectButton, ModalHeader, ModalContent, ModalContentButton } from './Header.styles';\nimport ONELogo from '../../Images/one.png';\nconst { toBech32 } = require('@harmony-js/crypto');\n\n\nconst Header = (props) => {\n  const [text, setText] = useState(null);\n  const [walletOptionsVisible, showWalletOptions] = useState(false);\n\n  useEffect(() => {\n    if (props.account) {\n      const bech32 = toBech32(props.account);\n      setText(bech32.slice(0, 8) + \"...\" +\n        bech32.slice(\n        bech32.length - 4,\n        bech32.length));\n    }\n  }, [props.account]);\n\n  async function connectMetamask() {\n    showWalletOptions(false);\n    props.connectMetamask();\n  }\n\n  async function connectMathWallet() {\n    showWalletOptions(false);\n    props.connectMathWallet();\n  }\n\n  return (\n    <Wrapper>\n      <Content>\n        <LogoImg src={ONELogo} alt='one-logo' />\n        {\n          props.account\n            ? <DisconnectButton\n                onClick={() => props.disconnectWallet()}>\n                  {text}\n              </DisconnectButton>\n            : <ConnectButton\n                onClick={() => showWalletOptions(true)}>\n                  Connect Wallet\n              </ConnectButton>\n        }\n      </Content>\n\n      <Modal\n        isOpen={walletOptionsVisible}\n        ariaHideApp={false}\n        onRequestClose={() => showWalletOptions(false)}\n      >\n        <ModalHeader>\n          <h3>Select wallet to connect</h3>\n          <label onClick={() => showWalletOptions(false)}>x</label>\n        </ModalHeader>\n        <ModalContent>\n          <ModalContentButton onClick={connectMetamask}>Metamask<img src=\"/images/metamask-logo.png\" alt=\"\" /></ModalContentButton>\n          <ModalContentButton onClick={connectMathWallet}>MathWallet<img src=\"/images/mathwallet-logo.png\" alt=\"\" /></ModalContentButton>\n        </ModalContent>\n      </Modal>\n    </Wrapper>\n  )\n}\n\nexport default Header;\n","export default \"data:image/png;base64,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\"","import * as React from 'react'\n\n\nexport function CustomInput(props: any) {\n  const inputRef = React.useRef<any>(null)\n\n  const updateValue = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget\n\n    if (value === '') {\n      props.setValue(value)\n      return\n    }\n\n    // valid is => 1, 1.2, 1.222222(upto 18 decimals), 1. (to let people type)\n    // invalid is negative items, .123 (missing 0), non float\n    let check = /^\\d+(\\.)?\\d{0,18}$/.test(value)\n    if (!check) {\n      return\n    }\n\n    let split: Array<string> = value.split('.')\n    if (split.length > 2) {\n      return\n    }\n\n    if (split.length === 2) {\n      let decimal: string = split[1]\n      if (decimal.length > props.decimals) {\n        return\n      }\n    }\n    \n    props.setValue(value)\n  }\n\n  React.useEffect(() => {\n    if (props.autofocus && inputRef) {\n      const node = inputRef.current as HTMLInputElement\n      node.focus()\n    }\n  }, [props.autofocus, inputRef])\n\n  const inputProps = {\n    placeholder: props.placeholder,\n    onChange: updateValue,\n    type: 'text',\n    value: props.value,\n  }\n\n  return <input {...inputProps} ref={inputRef}/>\n}\n","var bigDecimal = require('js-big-decimal');\n\nexport function roundString(inputString, numberOfDecimals) {\n  if (isNaN(parseFloat(inputString))) {\n    return inputString;\n  }\n  return bigDecimal.round(inputString, numberOfDecimals);\n}","import './App.scss';\nimport { CustomInput } from './CustomInput.tsx'\nimport { View } from 'react-native';\nimport { ethers } from 'ethers';\nimport React, { useState, useEffect } from 'react';\nimport { roundString } from './Utils.js';\nvar bigDecimal = require('js-big-decimal');\n\nexport function TabCard(props) {\n  const [receiveValue, setReceiveValue] = useState('??');\n\n  useEffect(() => {\n    if (props.exchangeRate.indexOf('?') === -1) {\n      let result;\n      if (props.value === '') {\n        setReceiveValue('0.0000');\n      } else {\n        let parsedValue = new bigDecimal(props.value + (\n          props.value.indexOf('.') === -1 ? \"\" : \"0\" ));\n        let exchangeRate = new bigDecimal(props.exchangeRate);\n        result = parsedValue.multiply(exchangeRate);\n        setReceiveValue(result.round(4).value);\n      }\n    } else {\n      setReceiveValue('??');\n    }\n  }, [props.value, props.exchangeRate]);\n\n  return (\n    <>\n      <View style={{\n            flex: 1,\n            marginBottom: 30,\n            marginTop: 30,\n          }\n        }>\n        <div>\n          <div className=\"input-swap-container\">\n          <View style={{ flex: 1, marginBottom: 30 }}>\n            <div className=\"selected-coin\"><img src={props.imgSrc} alt=\"\" /></div>\n            <button\n              className=\"max-button\"\n              onClick={() => {props.setValue(props.availableBalance)}}\n            >Max</button>\n              <div>\n                <CustomInput\n                  decimals={18}\n                  setValue={props.setValue}\n                  value={props.value}\n                  placeholder=\"0.0\"\n                  autofocus={props.autofocusInput}\n                />\n              </div>\n          </View>\n          </div>\n          <div className={`card card-receive`} style={{display: 'flex',  justifyContent:'center', alignItems:'center'}}>\n            <table>\n              <tbody>\n                <tr>\n                  <td className= \"tl\">Balance</td>\n                  <td className= \"tr\">\n                    {roundString(props.availableBalance, 4)} {props.inSymbol}\n                  </td>\n                </tr>\n                <tr>\n                  <td className= \"tl\">Exchange rate</td>\n                  <td className= \"tr\">1 {props.inSymbol} = {roundString(props.exchangeRate, 4)} {props.outSymbol}</td>\n                </tr>\n                <tr>\n                  <td className= \"tl\">You will receive</td>\n                  <td className= \"tr\">{ receiveValue }<span> {props.outSymbol}</span></td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n      </div>\n        <View style={{ flex: 1, marginTop: 30  }}>\n            <button\n              onClick={e=>props.onSubmit(props.submitAction, props.value)}\n              className='stake-button'\n              disabled={!props.walletConnected || (props.value === '' ||\n                (props.minValue\n                  ? (ethers.utils.parseUnits(props.value).gte(ethers.utils.parseUnits(props.availableBalance))\n                  || ethers.utils.parseUnits(props.value).lt(ethers.utils.parseUnits(props.minValue)))\n                  : ethers.utils.parseUnits(props.value).gt(ethers.utils.parseUnits(props.availableBalance))))}\n              >\n                {props.walletConnected ? props.submitAction : \"Connect wallet to continue\"}\n            </button>\n        </View>\n\n      </View>\n    </>\n  );\n}\n","import './App.scss';\nimport { roundString } from './Utils.js';\n\nexport function ClaimCard(props) {\n\n  return (\n    <div className=\"claim-card\">\n      <div>{roundString(props.amount, 4)} ONE</div>\n      <div style={{\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-end\",\n        position: \"relative\",\n        top: \"-1em\",\n      }}>\n        <button\n          className=\"max-button claim-button\"\n          onClick={() => {props.onClaim(props.tokenId)}}\n          disabled={!props.enableClaim}\n        >Claim</button>\n        <button\n          className=\"max-button redelegate-button\"\n          onClick={() => {props.onRedelegate(props.tokenId)}}\n          disabled={!props.enableRedelegate}\n        >Redelegate</button>\n      </div>\n    </div>\n  );\n}","import './App.scss';\nimport { View } from 'react-native';\nimport { ClaimCard } from './ClaimCard.js';\n\nexport function ClaimTabCard(props) {\n  return (\n    <>\n      <View style={{\n            flex: 1,\n            marginBottom: 30,\n            marginTop: 30,\n          }\n        }>\n        <div>\n          <div className=\"input-swap-container\">\n            {props.walletConnected\n              ? (!props.claimTickets\n                ? <div style={{margin: \"auto\"}}>No claim tickets</div>\n                : <div style={{\n                  width: \"100%\",\n                  }}>{props.claimTickets.map((el, idx) => (\n                    <div key={idx}>\n                      <ClaimCard\n                        imgSrc={props.imgSrc}\n                        amount={el.amount}\n                        epoch={el.epoch}\n                        onClaim={props.onClaim}\n                        onRedelegate={props.onRedelegate}\n                        tokenId={el.tokenId}\n                        enableClaim={el.enableClaim}\n                        enableRedelegate={el.enableRedelegate}\n                      />\n                    </div>\n                ))}</div>)\n              : <div style={{margin: \"auto\"}}>Connect wallet to continue</div>}\n          </div>\n        </div>\n      </View>\n    </>\n  );\n}\n","import './App.scss';\nimport Header from './Components/Header'\nimport { TabCard } from './TabCard.js'\nimport { ClaimTabCard } from './ClaimTabCard.js'\nimport Container from 'react-bootstrap/Container'\nimport { useState, useEffect } from 'react'\nimport { StyleSheet, Dimensions } from 'react-native'\nimport { ethers } from 'ethers'\nimport { TabView, SceneMap, TabBar } from 'react-native-tab-view';\nimport Modal from 'react-modal';\nimport MetaMaskOnboarding from '@metamask/onboarding';\nimport { Harmony } from '@harmony-js/core';\nimport { Messenger, HttpProvider } from '@harmony-js/network';\nimport { ChainID, ChainType, numberToString, toWei, Units, numberToHex } from '@harmony-js/utils';\nconst { fromBech32, getAddress } = require('@harmony-js/crypto');\nconst { BN } = require( 'bn.js' );\nvar bigDecimal = require('js-big-decimal');\n// global variables\nconst stoneAbi = require('./LiquidStaking.json')\nconst loneAbi  = require('./LockedONE.json')\nconst contractAddress = \"0xdd06e9339C56c6B9668c4C13AC0df22a396Ef64C\";\nconst rpcUrl = 'https://api.s0.b.hmny.io';\n\nfunction App() {\n  const [ account      ,        setAccount          ]   =     useState(null);\n  const [ provider     ,        setProvider         ]   =     useState(null);\n  const [ oneBalance   ,        setOneBalance       ]   =     useState('0.0');\n  const [ stoneBalance ,        setStoneBalance     ]   =     useState('0.0');\n  const [ stakeAmount  ,        setStakeAmount      ]   =     useState('');\n  const [ stoneContract,        setStoneContract    ]   =     useState(null);\n  const [ loneContract ,        setLoneContract     ]   =     useState(null);\n  const [ exchangeRate ,        setExchangeRate     ]   =     useState(\"??\");\n  const [ inverseRate  ,        setInverseRate      ]   =     useState(\"??\");\n  const [ activeTab    ,        setActiveTab        ]   =     useState(\"stake\");\n  const [ loadingScreenVisible,    setLoadingScreenVisible]   =     useState(false);\n  const [ transactionModalVisible   ,       setTransactionModalVisible      ]   =     useState(false);\n  const [ transactionHash,      setTransactionHash  ]   =     useState('');\n  const [ amountReceived,       setAmountReceived   ]   =     useState('');\n  const [ amountReceivedCurrency, setAmountReceivedCurrency] = useState('');\n  const [ transactionSpinnerVisible,   setTransactionSpinnerVisible]  =     useState(true);\n  const [ walletType, setWalletType ] = useState(null);\n  const [ claimTickets, setClaimTickets ] = useState([]);\n\n  const messenger = new Messenger(\n    new HttpProvider(rpcUrl),\n    ChainType.Harmony,\n    ChainID.HmyTestnet,\n  )\n\n  const getCurrentEpoch = async () => {\n    try {\n      const result = await messenger.send(\n        \"hmyv2_getEpoch\",\n        [],\n        messenger.chainPrefix,\n        messenger.currentShard,\n      );\n      return result.raw.result;\n    } catch (error) {\n      return -1;\n    }\n  };\n\n  const getRewards = async (address) => {\n    try {\n      let result = await messenger.send(\n        \"hmyv2_getDelegationsByDelegator\",\n        [address],\n        messenger.chainPrefix,\n        messenger.currentShard,\n      );\n      result = result.raw.result;\n      let sumRewards = ethers.constants.Zero;\n      result.forEach((item, i) => {\n        sumRewards = sumRewards.add(\n          item.reward + ''\n        );\n      });\n      return sumRewards;\n    } catch {\n      return -1;\n    }\n  };\n\n\n  // if provider changes, set the account and the contract\n  useEffect( () => {\n    async function handleProviderChange() {\n      if (walletType === \"Metamask\") {\n        if (provider) {\n          let accounts;\n          try {\n            accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n          } catch (error) {\n            alert(`Could not fetch accounts because ${error.message}`);\n            setLoadingScreenVisible(false);\n            return;\n          }\n          // might occur if user unlocks immediately after connecting\n          if (accounts.length === 0) {\n            alert('Please unlock your Metamask wallet to continue');\n            setLoadingScreenVisible(false);\n            return;\n          }\n          setAccount(accounts[0]);\n          setStoneContract(new ethers.Contract(contractAddress, stoneAbi, provider.getSigner()));\n        } else {\n          setAccount(null);\n          setStoneContract(null);\n        }\n      } else if (walletType === \"MathWallet\") {\n        if (provider) {\n          let localAccount;\n          try {\n            localAccount = await window.harmony.getAccount();\n          } catch (error) {\n            alert(`Could not fetch accounts because ${error.message}`);\n            setLoadingScreenVisible(false);\n            return;\n          }\n          setAccount(fromBech32(localAccount.address));\n          setStoneContract(provider.contracts.createContract(stoneAbi, contractAddress));\n        } else {\n          setAccount(null);\n          setStoneContract(null);\n        }\n      } else {\n        setAccount(null);\n        setStoneContract(null);\n      }\n    }\n    handleProviderChange();\n  }, [provider, walletType]);\n\n  async function updateOneBalance() {\n    if (walletType === 'Metamask') {\n    \tif ((account) && (provider)) {\n        provider.getBalance(account).then(balanceResult => {        // received a big number\n          setOneBalance(ethers.utils.formatUnits(balanceResult, \"ether\")); // string\n        })\n      } else {\n        setOneBalance(ethers.utils.formatUnits(ethers.constants.Zero, \"ether\"))\n      }\n    } else if (walletType === 'MathWallet') {\n      if ((account) && (provider)) {\n        provider.blockchain.getBalance({address: account}).then(balanceResult => {\n          setOneBalance(ethers.utils.formatUnits(balanceResult.result, \"ether\"));\n        });\n      } else {\n        setOneBalance(ethers.utils.formatUnits(ethers.constants.Zero, \"ether\"));\n      }\n    } else {\n      setOneBalance(ethers.utils.formatUnits(ethers.constants.Zero, \"ether\"));\n    }\n  }\n\n  // changes only one balance\n  // depends on provider and account only\n  useEffect(() => {\n    updateOneBalance();\n  }, [account, provider, walletType]);\n\n  async function handleStoneContractChange() {\n    if (walletType === 'Metamask') {\n      if ((stoneContract) && (provider) && (account)) {\n        let address;\n        try {\n          address = await stoneContract.nONE();\n        } catch {\n          alert('Contract address mismatch, are you on the right network?');\n          setLoneContract(null);\n          setExchangeRate('??');\n          setInverseRate('??');\n          setStoneBalance(ethers.utils.formatUnits(ethers.constants.Zero, \"ether\"));\n          setLoadingScreenVisible(false);\n          return;\n        }\n\n        setLoneContract(new ethers.Contract(address, loneAbi, provider.getSigner()));\n        let totalStaked = await stoneContract.totalStaked();\n        let totalSupply = await stoneContract.totalSupply();\n        setStoneBalance(ethers.utils.formatUnits(await stoneContract.balanceOf(account), 'ether'));\n        if ( totalSupply.eq( ethers.constants.Zero ) ) {\n          setExchangeRate(\"1.00\");\n        }\n        else {\n          let rewards = await getRewards( contractAddress );  // wei, so add directly\n          if ( rewards === -1 ) {\n            alert( 'Could not fetch rewards, please use a different browser' );\n            setLoadingScreenVisible( false );\n            setProvider( null );\n          }\n          totalStaked = new bigDecimal( totalStaked );\n          totalSupply = new bigDecimal( totalSupply );\n          rewards = new bigDecimal( rewards );\n          setExchangeRate( ( totalStaked.add( rewards ) ).divide( totalSupply ).value );\n        }\n      } else {\n        setLoneContract(null);\n        setExchangeRate('??');\n        setStoneBalance(ethers.utils.formatUnits(ethers.constants.Zero, \"ether\"));\n      }\n    } else if (walletType === 'MathWallet') {\n      if ((stoneContract) && (provider) && (account)) {\n        let address;\n        try {\n          address = await stoneContract.methods.nONE().call();\n        } catch (error) {\n          alert('Contract address mismatch, are you on the right network?');\n          setLoneContract(null);\n          setExchangeRate('??');\n          setStoneBalance(ethers.utils.formatUnits(ethers.constants.Zero, \"ether\"));\n          setLoadingScreenVisible(false);\n          return;\n        }\n        setLoneContract(provider.contracts.createContract(loneAbi, address));\n        stoneContract.wallet.setSigner( getAddress(account).checksum );\n        stoneContract.wallet.signTransaction = async (tx) => {\n          const signTx = await window.harmony.signTransaction(tx);\n          return signTx;\n        };\n        let localStoneBalance = numberToString(await stoneContract.methods.balanceOf(account).call());\n        setStoneBalance( ethers.utils.formatUnits( ethers.utils.parseUnits( localStoneBalance, \"wei\" ) ) );\n        let totalStaked = numberToString(await stoneContract.methods.totalStaked().call());\n        let totalSupply = numberToString(await stoneContract.methods.totalSupply().call());\n        // convert to ethers big number\n        totalStaked = ethers.utils.parseUnits( totalStaked, \"wei\" );\n        totalSupply = ethers.utils.parseUnits( totalSupply, \"wei\" );\n        if ( totalSupply.eq( ethers.constants.Zero ) ) {\n          setExchangeRate(\"1.00\");\n        }\n        else {\n          let rewards = await getRewards( contractAddress );  // wei, so add directly\n          if ( rewards === -1 ) {\n            alert( 'Could not fetch rewards, please use a different browser' );\n            setLoadingScreenVisible( false );\n            setProvider( null );\n          }\n          totalStaked = new bigDecimal( totalStaked );\n          totalSupply = new bigDecimal( totalSupply );\n          rewards = new bigDecimal( rewards );\n          setExchangeRate( ( totalStaked.add( rewards ) ).divide( totalSupply ).value );\n        }\n      } else {\n        setLoneContract(null);\n        setExchangeRate('??');\n        setStoneBalance(ethers.utils.formatUnits(ethers.constants.Zero, \"ether\"));\n      }\n    } else {\n      setLoneContract(null);\n      setExchangeRate('??');\n      setStoneBalance(ethers.utils.formatUnits(ethers.constants.Zero, \"ether\"));\n    }\n  }\n\n  useEffect( () => {\n    handleStoneContractChange();\n  }, [stoneContract, provider, account, walletType]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if ((account) && (provider) && (walletType)) {\n        updateOneBalance();\n      }\n      if ((account) && (provider) && (stoneContract) && (walletType)) {\n        handleStoneContractChange();\n      }\n      if ((account) && (loneContract) && (walletType)) {\n        handleLoneContractChange();\n      }\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  async function handleLoneContractChange() {\n    if (walletType === \"Metamask\") {\n      if ((loneContract) && (account)) {\n        // ethers bignumber\n        let length = await loneContract.balanceOf(account);\n        let localClaimTickets = [];\n        // does not work on localhost in firefox\n        let currentEpoch = await getCurrentEpoch();\n        if (currentEpoch === -1) {\n          setProvider(null);\n          alert('Could not fetch epoch, please use a different browser');\n          setLoadingScreenVisible(false);\n          return;\n        }\n        currentEpoch = ethers.BigNumber.from(currentEpoch);\n        for(let i = ethers.constants.Zero; i.lt(length); i = i.add(ethers.constants.One)) {\n          let userTokenId = await loneContract.tokenOfOwnerByIndex(account, i);\n          userTokenId = ethers.utils.formatUnits( userTokenId, \"wei\" );\n          let amount = await loneContract.getAmountOfTokenByIndex(userTokenId);\n          amount = ethers.utils.formatUnits( amount );\n          let epoch = await loneContract.getEpochOfTokenByIndex(userTokenId);\n          // currentEpoch > epoch + 6\n          let enableClaim = currentEpoch.gt(epoch.add(ethers.utils.parseUnits('6', 'wei')));\n          let enableRedelegate = currentEpoch.gt(epoch);\n          epoch = ethers.utils.formatUnits( epoch, \"wei\" );\n          localClaimTickets.push({\n            amount: amount,\n            epoch: epoch,\n            tokenId: numberToString(userTokenId),\n            enableClaim: enableClaim,\n            enableRedelegate: enableRedelegate,\n          });\n        }\n        setClaimTickets(localClaimTickets);\n      } else {\n        setClaimTickets([]);\n      }\n    } else if (walletType === \"MathWallet\") {\n      if ((loneContract) && (account)) {\n        let length = numberToString(await loneContract.methods.balanceOf(account).call());\n        length = ethers.utils.parseUnits(length, \"wei\");\n        let localClaimTickets = [];\n        let currentEpoch = await getCurrentEpoch();\n        if (currentEpoch === -1) {\n          alert('Could not fetch epoch, please use a different browser');\n          setProvider(null);\n          setLoadingScreenVisible(false);\n          return;\n        }\n        currentEpoch = ethers.BigNumber.from(currentEpoch);\n        for(let i = ethers.constants.Zero; i.lt(length); i = i.add(ethers.constants.One)) {\n          let hmyCompatI = new BN(i.toString());\n          let userTokenId = await loneContract.methods.tokenOfOwnerByIndex(account, hmyCompatI).call();\n          let amount = ethers.utils.formatUnits(\n            ethers.utils.parseUnits(\n              numberToString( await loneContract.methods.getAmountOfTokenByIndex( userTokenId ).call() ),\n              \"wei\" )\n          );\n          let epoch = ethers.utils.formatUnits(\n            ethers.utils.parseUnits(\n              numberToString( await loneContract.methods.getEpochOfTokenByIndex( userTokenId ).call() ),\n              \"ether\" )\n            );\n          // currentEpoch > epoch + 6\n          let parsedEpoch = ethers.utils.parseUnits(epoch, 'wei');\n          let enableClaim = currentEpoch.gt(parsedEpoch.add(ethers.utils.parseUnits('6', 'wei')));\n          let enableRedelegate = currentEpoch.gt(parsedEpoch);\n          localClaimTickets.push({\n            amount: amount,\n            epoch: epoch,\n            tokenId: numberToString(userTokenId),\n            enableClaim: enableClaim,\n            enableRedelegate: enableRedelegate,\n          });\n        }\n        setClaimTickets(localClaimTickets);\n      } else {\n        setClaimTickets([]);\n      }\n    } else {\n      setClaimTickets([]);\n    }\n  }\n\n  useEffect( () => {\n    handleLoneContractChange();\n  }, [loneContract, account, walletType]);\n\n  useEffect( () => {\n    if (exchangeRate.indexOf('?') === -1) {\n      setInverseRate(\n        new bigDecimal('1.0').divide(\n          new bigDecimal(exchangeRate)\n        ).value\n      );\n    } else {\n      setInverseRate('??');\n    }\n  }, [exchangeRate]);\n\n  useEffect( () => {\n    setLoadingScreenVisible( false );\n  }, [ inverseRate ] );\n\n  async function connectMetamask() {\n    if (!MetaMaskOnboarding.isMetaMaskInstalled()) {\n      let instance = new MetaMaskOnboarding();\n      instance.startOnboarding();\n      return;\n    }\n    setLoadingScreenVisible(true);\n    let chainId = await window.ethereum.request({ method: 'eth_chainId' }); // string\n    chainId = ethers.BigNumber.from(chainId);\n    let targetChainId = ethers.BigNumber.from(\"1666700000\");\n    if (chainId.eq(targetChainId)) {\n      setMetamaskProviderFromWindow();\n    } else {\n      try {\n        await window.ethereum.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: targetChainId.toHexString() }],\n        });\n        setMetamaskProviderFromWindow();\n      } catch (switchError) {\n        // This error code indicates that the chain has not been added to Metamask.\n        if (switchError.code === 4902) {\n          try {\n            // This doesn't seem to fail if user accepts the add but denies the switch\n            await window.ethereum.request({\n              method: 'wallet_addEthereumChain',\n              params: [\n                {\n                  chainId: targetChainId.toHexString(),\n                  chainName: 'Harmony Testnet Shard 0',\n                  rpcUrls: [ rpcUrl ],\n                  blockExplorerUrls: [ 'https://explorer.testnet.harmony.one' ],\n                  nativeCurrency: {\n                    name: 'Harmony',\n                    symbol: 'ONE',\n                    decimals: 18,\n                  }\n                },\n              ],\n            });\n            // Handle the missing failure here\n            chainId = await window.ethereum.request({ method: 'eth_chainId' });\n            chainId = ethers.BigNumber.from(chainId);\n            if (!chainId.eq(targetChainId)) {\n              alert('Could not switch network because User rejected the request.');\n              setLoadingScreenVisible(false);\n              return;\n            }\n            setMetamaskProviderFromWindow();\n          } catch (addError) {\n            alert(`Could not add network because ${addError.message}`);\n            setLoadingScreenVisible(false);\n            console.log(addError);\n          }\n        } else {\n          alert(`Could not switch network because ${switchError.message}`);\n          setLoadingScreenVisible(false);\n          console.log(switchError);\n        }\n      }\n    }\n  }\n\n  async function setMetamaskProviderFromWindow() {\n    let isWalletUnlocked = await window.ethereum._metamask.isUnlocked();\n    if (!isWalletUnlocked) {\n      alert('Please unlock your wallet to continue');\n      setLoadingScreenVisible(false);\n      return;\n    }\n    const localProvider = new ethers.providers.Web3Provider(window.ethereum);\n    setWalletType('Metamask');\n    setProvider(localProvider);\n  }\n\n  async function disconnectWallet() {\n    setLoadingScreenVisible(true);\n    setProvider(null);\n    setWalletType('');\n  }\n\n  async function connectMathWallet() {\n    if ((\"harmony\" in window) && window.harmony.isMathWallet) {\n      setLoadingScreenVisible(true);\n      let chainId = window.harmony.network.chain_id;\n      chainId = ethers.BigNumber.from(chainId);\n      let targetChainId = ethers.BigNumber.from(\"1666700000\");\n      if (chainId.eq(targetChainId)) {\n        let hmy = new Harmony(window.harmony.network.chain_url, {\n          chainType: ChainType.Harmony,\n          chainId: ChainID.HmyTestnet\n        });\n        setWalletType('MathWallet');\n        setProvider(hmy);\n      } else {\n        alert('Unexpected chain id');\n        setLoadingScreenVisible(false);\n      }\n    } else {\n      window.open(\"https://mathwallet.org/\", \"_blank\");\n    }\n  }\n\n  async function stake(amount) {\n    if (walletType === \"Metamask\") {\n      if (!account) {\n        alert('No account available');\n      } else if (!provider) {\n        alert('No provider available');\n      } else {\n        setTransactionHash('');\n        setTransactionSpinnerVisible(true);\n        setTransactionModalVisible(true);\n        let options = {\n          value: ethers.utils.parseUnits(amount, 'ether'),\n          gasPrice: ethers.utils.parseUnits('30', 'gwei'),\n        }\n        // first tx.value is param \"amount\"\n        // second is actually sending it money using msg.value\n        let transaction;\n        try {\n          transaction = await stoneContract.stake(options.value, options);\n        } catch (error) {\n          setTransactionModalVisible(false);\n          setTransactionSpinnerVisible(false);\n          alert(error.message + (error.data ? '\\n' + error.data.message : ''));\n          return;\n        }\n        let receipt = await transaction.wait();\n        let txHash = receipt.transactionHash;\n        setTransactionSpinnerVisible(false);\n        setTransactionHash(txHash);\n        updateOneBalance(); // gas\n        handleStoneContractChange();  // stake tx\n      }\n    } else if (walletType === \"MathWallet\") {\n      if (!account) {\n        alert('No account available');\n      } else if (!provider) {\n        alert('No provider available');\n      } else {\n        setTransactionHash('');\n        setTransactionSpinnerVisible(true);\n        setTransactionModalVisible(true);\n        let transaction;\n        try {\n          transaction = await stoneContract.methods.stake(\n            toWei(amount, Units.one)\n          ).send(\n            {\n              gasPrice: numberToHex( toWei(30, Units.Gwei) ),\n              from: getAddress(account).checksum, // mandatory!!\n              value: numberToHex( toWei(amount, Units.one) ),\n            }\n          )\n        } catch (error) {\n          setTransactionModalVisible(false);\n          setTransactionSpinnerVisible(false);\n          alert(error.message);\n          return;\n        }\n        let txHash = transaction.transaction.receipt.transactionHash;\n        setTransactionHash(txHash);\n        setTransactionSpinnerVisible(false);\n        updateOneBalance(); // gas\n        handleStoneContractChange();  // stake tx\n      }\n    } else {\n      alert('How did you click here without connecting a wallet?');\n    }\n  }\n\n  async function unstake(amount) {\n    if (walletType === \"Metamask\") {\n      if (!account) {\n        alert('No account available');\n      } else if (!provider) {\n        alert('No provider available');\n      } else {\n        setTransactionHash('');\n        setTransactionSpinnerVisible(true);\n        setTransactionModalVisible(true);\n        let options = {\n          gasPrice: ethers.utils.parseUnits('30', 'gwei'),\n        }\n        let transaction;\n        try {\n          transaction = await stoneContract.unstake(\n            ethers.utils.parseUnits(amount, 'ether'),\n            options\n          );\n        } catch (error) {\n          setTransactionModalVisible(false);\n          setTransactionSpinnerVisible(false);\n          alert(error.message + (error.data ? '\\n' + error.data.message : ''));\n          return;\n        }\n        let receipt = await transaction.wait();\n        let txHash = receipt.transactionHash;\n        setTransactionHash(txHash);\n        setTransactionSpinnerVisible(false);\n        updateOneBalance(); // gas\n        handleStoneContractChange();  // stone value down\n        handleLoneContractChange(); // claim ticket created\n      }\n    } else if (walletType === \"MathWallet\") {\n      if (!account) {\n        alert('No account available');\n      } else if (!provider) {\n        alert('No provider available');\n      } else {\n        setTransactionHash('');\n        setTransactionSpinnerVisible(true);\n        setTransactionModalVisible(true);\n        let transaction;\n        try {\n          transaction = await stoneContract.methods.unstake(\n            toWei(amount, Units.one)\n          ).send(\n            {\n              gasPrice: numberToHex( toWei(30, Units.Gwei) ),\n              from: getAddress(account).checksum, // mandatory!!\n            }\n          );\n        } catch (error) {\n          setTransactionModalVisible(false);\n          setTransactionSpinnerVisible(false);\n          alert(error.message);\n          return;\n        }\n        let txHash = transaction.transaction.receipt.transactionHash;\n        setTransactionHash(txHash);\n        setTransactionSpinnerVisible(false);\n        handleStoneContractChange();\n        updateOneBalance(); // gas\n        handleStoneContractChange();  // stone value down\n        handleLoneContractChange(); // claim ticket created\n      }\n    } else {\n      alert('How did you click here without connecting a wallet?');\n    }\n  }\n\n  async function submit(action, value) {\n      if (action === \"Stake\") {\n          stake(value)\n      }\n      else if (action === \"Unstake\") {\n          unstake(value)\n      }\n  }\n  const FirstRoute = () => (\n      <TabCard\n        imgSrc=\"images/one.png\"\n        availableBalance={oneBalance}\n        exchangeRate={inverseRate}\n        value={stakeAmount}\n        setValue={setStakeAmount}\n        submitAction=\"Stake\"\n        onSubmit={submit}\n        autofocusInput={activeTab === \"stake\"}\n        walletConnected={provider !== null}\n        inSymbol=\"ONE\"\n        outSymbol=\"drONE\"\n        minValue=\"100.0\"\n      />\n  )\n\n  const SecondRoute = () => (\n      <TabCard\n        imgSrc=\"images/one.png\"\n        availableBalance={stoneBalance}\n        exchangeRate={exchangeRate}\n        value={stakeAmount}\n        setValue={setStakeAmount}\n        submitAction=\"Unstake\"\n        onSubmit={submit}\n        autofocusInput={activeTab === \"unstake\"}\n        walletConnected={provider !== null}\n        inSymbol=\"drONE\"\n        outSymbol=\"ONE\"\n      />\n  )\n  const ThirdRoute = () => (\n      <ClaimTabCard\n        imgSrc=\"images/one.png\"\n        walletConnected={provider !== null}\n        claimTickets={claimTickets}\n        onClaim={claimThisTicket}\n        onRedelegate={redelegateThisTicket}\n      />\n  )\n\n  // tokenId is a string, may contain .0 if metamask\n  async function claimThisTicket(tokenId) {\n    if (walletType === 'Metamask') {\n      setTransactionHash('');\n      setTransactionSpinnerVisible(true);\n      setTransactionModalVisible(true);\n      tokenId = ethers.utils.parseUnits(tokenId, \"wei\");\n      let options = {\n        gasPrice: ethers.utils.parseUnits('30', 'gwei'),\n      }\n      let transaction;\n      try {\n        transaction = await stoneContract.claim(tokenId, options);\n      } catch (error) {\n        setTransactionModalVisible(false);\n        setTransactionSpinnerVisible(false);\n        alert(error.message + (error.data ? '\\n' + error.data.message : ''));\n        return;\n      }\n      let receipt = await transaction.wait();\n      let txHash = receipt.transactionHash;\n      setTransactionHash(txHash);\n      setTransactionSpinnerVisible(false);\n      // removes the ticket\n      handleLoneContractChange();\n      // updates the balance\n      updateOneBalance();\n    } else if (walletType === 'MathWallet') {\n      setTransactionHash('');\n      setTransactionSpinnerVisible(true);\n      setTransactionModalVisible(true);\n      tokenId = new BN( tokenId );\n      let transaction;\n      try {\n        transaction = await stoneContract.methods.claim(\n          tokenId\n        ).send(\n          {\n            gasPrice: numberToHex( toWei(30, Units.Gwei) ),\n            from: getAddress(account).checksum, // mandatory!!\n          }\n        )\n      } catch (error) {\n        setTransactionModalVisible(false);\n        setTransactionSpinnerVisible(false);\n        alert(error.message);\n        return;\n      }\n      let txHash = transaction.transaction.receipt.transactionHash;\n      setTransactionHash(txHash);\n      setTransactionSpinnerVisible(false);\n      // removes the ticket\n      handleLoneContractChange();\n      // updates the balance\n      updateOneBalance();\n    } else {\n      alert('Not possible');\n    }\n  }\n\n  async function redelegateThisTicket(tokenId) {\n    if (walletType === 'Metamask') {\n      setTransactionHash('');\n      setTransactionSpinnerVisible(true);\n      setTransactionModalVisible(true);\n      tokenId = ethers.utils.parseUnits(tokenId, \"wei\");\n      let options = {\n        gasPrice: ethers.utils.parseUnits('30', 'gwei'),\n      }\n      let transaction;\n      try {\n        transaction = await stoneContract.reDelegate(tokenId, options);\n      } catch (error) {\n        setTransactionModalVisible(false);\n        setTransactionSpinnerVisible(false);\n        alert(error.message + (error.data ? '\\n' + error.data.message : ''));\n        return;\n      }\n      let receipt = await transaction.wait();\n      let txHash = receipt.transactionHash;\n      setTransactionHash(txHash);\n      setTransactionSpinnerVisible(false);\n      handleLoneContractChange(); // ticket to be removed\n      updateOneBalance(); // gas\n      handleStoneContractChange();  // stone balance\n    } else if (walletType === 'MathWallet') {\n      setTransactionHash('');\n      setTransactionSpinnerVisible(true);\n      setTransactionModalVisible(true);\n      tokenId = new BN( tokenId );\n      let transaction;\n      try {\n        transaction = await stoneContract.methods.reDelegate(\n          tokenId\n        ).send(\n          {\n            gasPrice: numberToHex( toWei(30, Units.Gwei) ),\n            from: getAddress(account).checksum, // mandatory!!\n          }\n        );\n      } catch (error) {\n        setTransactionModalVisible(false);\n        setTransactionSpinnerVisible(false);\n        alert(error.message);\n        return;\n      }\n      let txHash = transaction.transaction.receipt.transactionHash;\n      setTransactionHash(txHash);\n      setTransactionSpinnerVisible(false);\n      handleLoneContractChange(); // ticket to be removed\n      updateOneBalance(); // gas\n      handleStoneContractChange();  // stone balance\n    } else {\n      alert('Not possible');\n    }\n  }\n\n  const renderScene = SceneMap({\n      first: FirstRoute,\n      second: SecondRoute,\n      third: ThirdRoute,\n  });\n\n  const layout = { width: Dimensions.get('window').width };\n\n  const [index, setIndex] = useState(0);\n  const [routes] = useState([\n      { key: 'first', title: 'Stake' },\n      { key: 'second', title: 'Unstake' },\n      { key: 'third', title: 'Claim' },\n  ]);\n  const styles = StyleSheet.create({\n      tabbar: {\n        backgroundImage: 'linear-gradient(to top right, #00B0E5, #00D2BC, #00E8A2)',\n        borderRadius: '0.5em',\n        paddingLeft: \"1em\",\n        paddingRight: \"1em\",\n        border: \"none\",\n        fontFamily: \"Nunito, sans-serif\",\n        color: \"#031217\",\n        inactiveColor: \"#00000040\",\n      },\n      indicator: {\n        backgroundColor: '#ffffff80',\n      },\n\n  });\n  const renderTabBar = (\n    props: SceneRendererProps & { navigationState: State }\n  ) => {\n    return (\n      <TabBar\n        {...props}\n        indicatorStyle={styles.indicator}\n        style={styles.tabbar}\n        labelStyle= {{\n          fontFamily: \"Nunito, sans-serif\",\n          color:  \"Black\",\n          fontSize: \"1.2em\",\n          textTransform: \"\",\n        }}\n        inactiveColor={\"#00000060\"}\n      />\n    );\n  };\n  return (\n    <>\n      <Header\n        account={account}\n        disconnectWallet={disconnectWallet}\n        connectMetamask={connectMetamask}\n        connectMathWallet={connectMathWallet}\n      />\n\n      <Container className=\"container-small\">\n        <h1>Liquid Staking</h1>\n      <div className={`card swap-card`}>\n\n        <TabView\n          renderTabBar = {renderTabBar}\n          navigationState={{ index, routes }}\n          renderScene={renderScene}\n          onIndexChange={setIndex}\n          initialLayout={layout}\n\n        />\n\n      </div>\n\n      </Container>\n\n      <Modal\n        isOpen={loadingScreenVisible}\n        ariaHideApp={false}\n        onRequestClose={() => setLoadingScreenVisible(false)}\n        style={{content: {height: \"15em\", backgroundImage: 'linear-gradient(to top right, #00B0E5, #00D2BC, #00E8A2)'}}}\n      >\n        <div style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\", height: \"100%\"}}><div className=\"lds-ripple\"><div></div><div></div></div></div>\n      </Modal>\n\n      <Modal\n        isOpen={transactionModalVisible}\n        ariaHideApp={false}\n        onRequestClose={() => setTransactionModalVisible(false)}\n        style={{content: {height: \"10em\"}}}\n      >\n        <div style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          height: \"100%\",\n          flexDirection: \"column\",\n          paddingLeft: \"1em\",\n          paddingRight: \"1em\",\n        }}\n        >\n          {transactionHash ?\n            <div style={{\n              wordWrap: \"anywhere\",\n              position: \"absolute\",\n              top: \"1em\",\n              margin: \"1em\",\n            }}>Your transaction has been confirmed with hash <a href={\"https://explorer.testnet.harmony.one/tx/\" + transactionHash} style={{color: \"#ffffff\"}} target=\"_blank\" rel=\"noreferrer\">{transactionHash}</a>\n            {amountReceived ? <div>You have received {amountReceived} {amountReceivedCurrency ? amountReceivedCurrency : \"\"}</div> : \"\"}\n            </div> :\n            <div>Your transaction is currently processing</div>\n          }\n          <div className=\"lds-ripple\" style={{visibility: transactionSpinnerVisible ? \"inherit\": \"collapse\"}}><div></div><div></div></div>\n        </div>\n      </Modal>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  HashRouter,\n  Routes,\n  Route\n} from \"react-router-dom\";\nimport Landing from \"./Landing.js\";\nimport App from \"./App.js\";\n\nReactDOM.render(\n    <HashRouter>\n    <Routes>\n      <Route exact path={\"\"} element={<Landing />} />\n      <Route exact path={\"/app\"} element={<App />} />\n    </Routes>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}